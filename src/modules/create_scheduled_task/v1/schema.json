{
  "metadata": {
    "workflows_module_schema_version": "1.0.0"
  },
  "fields": [
    {
      "type": "connection",
      "id": "api_connection",
      "label": "API Connection",
      "allowed_app_types": ["hyperline"],
      "allowed_connection_management_types": ["managed", "custom"]
    },
    {"id": "task", "type": "string", "label": "Task Instructions", "description": "Instructions for what the agent should do", "validation": {"required": true}},
    {"id": "schedule_type", "type": "string", "label": "Schedule Type", "description": "Type of schedule: interval or cron", "choices": {"values": [{"value": "interval", "label": "Interval"}, {"value": "cron", "label": "Cron"}]}, "validation": {"required": true}},
    {"id": "interval_minutes", "type": "integer", "label": "Interval Minutes", "description": "Minutes between runs (required for interval schedule)"},
    {"id": "cron_expression", "type": "string", "label": "Cron Expression", "description": "Cron expression for scheduling (required for cron schedule)"},
    {"id": "start_at", "type": "string", "label": "Start At", "description": "When to start the schedule (ISO 8601 format, defaults to now)"},
    {"id": "end_at", "type": "string", "label": "End At", "description": "When to end the schedule (ISO 8601 format, defaults to 1 year from now)"},
    {"id": "secrets", "type": "object", "label": "Secrets", "description": "Dictionary of secrets to be used by the agent"},
    {"id": "allowed_domains", "type": "array", "label": "Allowed Domains", "description": "List of domains the agent is allowed to visit", "items": {"type": "string", "label": "Domain"}},
    {"id": "save_browser_data", "type": "boolean", "label": "Save Browser Data", "description": "Whether to save browser cookies and data between runs", "default": false},
    {"id": "structured_output_json", "type": "string", "label": "Structured Output JSON", "description": "JSON schema for structured output"},
    {"id": "llm_model", "type": "string", "label": "LLM Model", "description": "LLM model to use", "choices": {"values": [
      {"value": "gpt-4o", "label": "gpt-4o"},
      {"value": "gpt-4o-mini", "label": "gpt-4o-mini"},
      {"value": "gpt-4.1", "label": "gpt-4.1"},
      {"value": "gpt-4.1-mini", "label": "gpt-4.1-mini"},
      {"value": "o4-mini", "label": "o4-mini"},
      {"value": "o3", "label": "o3"},
      {"value": "gemini-2.0-flash", "label": "gemini-2.0-flash"},
      {"value": "gemini-2.0-flash-lite", "label": "gemini-2.0-flash-lite"},
      {"value": "gemini-2.5-flash-preview-04-17", "label": "gemini-2.5-flash-preview-04-17"},
      {"value": "gemini-2.5-flash", "label": "gemini-2.5-flash"},
      {"value": "gemini-2.5-pro", "label": "gemini-2.5-pro"},
      {"value": "claude-3-7-sonnet-20250219", "label": "claude-3-7-sonnet-20250219"},
      {"value": "claude-sonnet-4-20250514", "label": "claude-sonnet-4-20250514"},
      {"value": "llama-4-maverick-17b-128e-instruct", "label": "llama-4-maverick-17b-128e-instruct"}
    ]}, "default": "gpt-4o"},
    {"id": "use_adblock", "type": "boolean", "label": "Use Adblock", "description": "Whether to use an adblocker", "default": true},
    {"id": "use_proxy", "type": "boolean", "label": "Use Proxy", "description": "Whether to use a proxy", "default": true},
    {"id": "proxy_country_code", "type": "string", "label": "Proxy Country Code", "description": "Country code for residential proxy", "choices": {"values": [
      {"value": "us", "label": "US"},
      {"value": "uk", "label": "UK"},
      {"value": "fr", "label": "FR"},
      {"value": "it", "label": "IT"},
      {"value": "jp", "label": "JP"},
      {"value": "au", "label": "AU"},
      {"value": "de", "label": "DE"},
      {"value": "fi", "label": "FI"},
      {"value": "ca", "label": "CA"},
      {"value": "in", "label": "IN"}
    ]}, "default": "us"},
    {"id": "highlight_elements", "type": "boolean", "label": "Highlight Elements", "description": "Whether to highlight elements on the page", "default": true},
    {"id": "included_file_names", "type": "array", "label": "Included File Names", "description": "File names to include in the task", "items": {"type": "string", "label": "File Name"}},
    {"id": "browser_viewport_width", "type": "integer", "label": "Browser Viewport Width", "description": "Width of browser viewport in pixels", "default": 1280},
    {"id": "browser_viewport_height", "type": "integer", "label": "Browser Viewport Height", "description": "Height of browser viewport in pixels", "default": 960},
    {"id": "max_agent_steps", "type": "integer", "label": "Max Agent Steps", "description": "Maximum number of agent steps (max: 200)", "default": 75},
    {"id": "enable_public_share", "type": "boolean", "label": "Enable Public Share", "description": "Whether to enable public sharing of task executions", "default": false}
  ],
  "ui_options": {
    "ui_order": ["api_connection", "task", "schedule_type", "interval_minutes", "cron_expression", "start_at", "end_at", "secrets", "allowed_domains", "save_browser_data", "structured_output_json", "llm_model", "use_adblock", "use_proxy", "proxy_country_code", "highlight_elements", "included_file_names", "browser_viewport_width", "browser_viewport_height", "max_agent_steps", "enable_public_share"]
  }
}
