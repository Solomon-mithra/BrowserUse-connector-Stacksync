{
  "metadata": {
    "workflows_module_schema_version": "1.0.0"
  },
  "fields": [
    {
      "type": "connection",
      "id": "api_connection",
      "label": "Connection",
      "allowed_app_types": ["hyperline"],
      "allowed_connection_management_types": ["managed", "custom"]
    },
    {
      "id": "task",
      "type": "string",
      "label": "Task",
      "description": "Instructions for what the agent should do.",
      "validation": { "required": true },
      "ui_options": { "ui_widget": "textarea" }
    },
    {
      "type": "string",
      "id": "secrets",
      "label": "Secrets",
      "description": "Add any secret values/credentials the agent needs. Use JSON format.",
      "default": "{}",
      "ui_options": {
        "ui_widget": "CodeblockWidget",
        "ui_options": { "language": "json" }
      }
    },
    {
      "id": "allowed_domains",
      "type": "array",
      "label": "Allowed Domains",
      "description": "List websites the agent can visit. Leave empty to allow all.",
      "items": {
        "type": "string",
        "label": "Domain",
        "content": {
          "type": ["managed"],
          "content_objects": [{ "id": "domains" }]
        }
      },
      "default": ["example.com", "anotherdomain.com"]
    },
    {
      "id": "save_browser_data",
      "type": "boolean",
      "label": "Save Browser Data",
      "description": "Save cookies and browser data for future use.",
      "default": false
    },
    {
      "id": "structured_output_json",
      "type": "string",
      "label": "Output JSON Schema",
      "description": "Set a JSON schema for the agent's output.",
      "ui_options": {
        "ui_widget": "CodeblockWidget",
        "ui_options": { "language": "json" }
      }
    },
    {
      "id": "llm_model",
      "type": "string",
      "label": "LLM Model",
      "description": "Choose the AI model to use.",
      "default": "gpt-4.1",
      "choices": {
        "values": [
          { "value": "gpt-4o", "label": "gpt-4o" },
          { "value": "gpt-4o-mini", "label": "gpt-4o-mini" },
          { "value": "gpt-4.1", "label": "gpt-4.1" },
          { "value": "gpt-4.1-mini", "label": "gpt-4.1-mini" },
          { "value": "gemini-2.5-flash", "label": "gemini-2.5-flash" },
          { "value": "claude-sonnet-4-20250514", "label": "claude-sonnet-4-20250514" }
        ]
      }
    },
    {
      "id": "use_adblock",
      "type": "boolean",
      "label": "Use Adblock",
      "description": "If set to True, the agent will use an adblocker.",
      "default": true
    },
    {
      "id": "use_proxy",
      "type": "boolean",
      "label": "Use Proxy",
      "description": "If set to True, the agent will use a (mobile) proxy.",
      "default": true
    },
    {
      "id": "proxy_country_code",
      "type": "string",
      "label": "Proxy Country",
      "description": "Pick the country code for the proxy server.",
      "default": "us",
      "choices": {
        "values": [
          { "value": "us", "label": "US" },
          { "value": "fr", "label": "FR" },
          { "value": "it", "label": "IT" },
          { "value": "jp", "label": "JP" },
          { "value": "au", "label": "AU" },
          { "value": "de", "label": "DE" },
          { "value": "fi", "label": "FI" },
          { "value": "ca", "label": "CA" }
        ]
      }
    },
    {
      "id": "highlight_elements",
      "type": "boolean",
      "label": "Highlight Elements",
      "description": "If set to True, the agent will highlight the elements on the page while executing the task.",
      "default": true
    },
    {
      "id": "browser_viewport_width",
      "type": "integer",
      "label": "Viewport Width",
      "description": "Set the browser window width (pixels).",
      "default": 1280
    },
    {
      "id": "browser_viewport_height",
      "type": "integer",
      "label": "Viewport Height",
      "description": "Set the browser window height (pixels).",
      "default": 960
    },
    {
      "id": "max_agent_steps",
      "type": "integer",
      "label": "Max Steps",
      "description": "Set the maximum number of steps the agent can take (75â€“200).",
      "default": 75,
      "validation": {
        "minimum": 75,
        "maximum": 200,
        "type": "integer"
      }
    },
    {
      "id": "enable_public_share",
      "type": "boolean",
      "label": "Enable Public Share",
      "description": "Allow anyone with the link (generated) to see the task result.",
      "default": false
    }
  ],
  "ui_options": {
    "ui_order": [
      "api_connection",
      "task",
      "secrets",
      "allowed_domains",
      "save_browser_data",
      "structured_output_json",
      "llm_model",
      "use_adblock",
      "use_proxy",
      "proxy_country_code",
      "highlight_elements",
      "included_file_names",
      "browser_viewport_width",
      "browser_viewport_height",
      "max_agent_steps",
      "enable_public_share"
    ]
  }
}
